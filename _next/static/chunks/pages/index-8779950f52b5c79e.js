(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8933)}])},8933:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Z}});var r,i,s=t(7297),o=t(5893),a=t(7294),l=t(9521),u=t(9352),c=t(6486);function d(){let n=(0,s.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]);return d=function(){return n},n}function p(){let n=(0,s.Z)(["\n  width: 100%;\n  max-width: 400px;\n  display: grid;\n  gap: 10px;\n  align-items: end;\n"]);return p=function(){return n},n}function f(){let n=(0,s.Z)(["\n  width: 100%;\n  outline: 1px solid #acacac;\n  border-radius: 3px;\n  display: grid;\n  grid-template-columns: 1fr auto;\n\n  &:focus-within {\n    outline: 2px solid #235aff;\n  }\n\n  input {\n    padding: 18px;\n    height: 100%;\n    margin: 0;\n    border: none;\n    outline: none;\n    font-size: 15px;\n  }\n"]);return f=function(){return n},n}function g(){let n=(0,s.Z)(["\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  padding: 15px;\n\n  svg {\n    animation: "," 2s linear infinite;\n    color: grey;\n  }\n"]);return g=function(){return n},n}function h(){let n=(0,s.Z)(["\n  width: 100%;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  max-height: 300px;\n  overflow: auto;\n"]);return h=function(){return n},n}function _(){let n=(0,s.Z)(["\n  padding: 10px 15px;\n  font-weight: 400;\n  cursor: pointer;\n  font-size: 14px;\n  display: flex;\n  gap: 15px;\n  align-items: center;\n  text-decoration: none;\n  color: black;\n  background-color: ",";\n\n  &:hover {\n    background-color: #f8f8f8;\n  }\n\n  img {\n    width: 30px;\n    height: 30px;\n    border: 1px solid #eeeeee;\n  }\n"]);return _=function(){return n},n}function m(){let n=(0,s.Z)(["\n  text-align: center;\n  font-size: 14px;\n  color: #696969;\n  font-weight: 400;\n  padding: 20px 0;\n  margin: 0;\n"]);return m=function(){return n},n}function x(){let n=(0,s.Z)(["\n  color: #cd3535;\n  font-weight: 400;\n  padding: 20px;\n  display: grid;\n  gap: 12px;\n  text-align: center;\n\n  h3 {\n    margin: 0;\n    font-size: 16px;\n    font-weight: 500;\n  }\n\n  p {\n    color: #696969;\n    font-size: 14px;\n    margin: 0;\n  }\n"]);return x=function(){return n},n}(r=i||(i={})).SEARCH_WITH_RESULT="SEARCH_WITH_RESULT",r.SEARCH_WITHOUT_RESULT="SEARCH_WITHOUT_RESULT",r.SEARCH_WITH_ERROR="SEARCH_WITH_ERROR",r.ON_CHANGE_LT_3="ON_CHANGE_LT_3",r.ON_CHANGE_GTE_3="ON_CHANGE_GTE_3";let w=(n,e)=>{switch(e.type){case i.SEARCH_WITH_RESULT:return{isLoading:!1,isNoResults:!1,resultItems:e.payload,error:void 0};case i.SEARCH_WITHOUT_RESULT:return{isLoading:!1,isNoResults:!0,resultItems:[],error:void 0};case i.SEARCH_WITH_ERROR:return{isLoading:!1,isNoResults:!1,resultItems:[],error:e.payload};case i.ON_CHANGE_LT_3:return{isLoading:!1,isNoResults:!1,resultItems:[],error:void 0};case i.ON_CHANGE_GTE_3:return{isLoading:!0,isNoResults:n.isNoResults,resultItems:n.resultItems,error:n.error};default:return{isLoading:!1,isNoResults:!1,resultItems:[],error:void 0}}},E=n=>{let[e,t]=(0,a.useState)(""),[r,s]=(0,a.useState)(-1),[l,d]=(0,a.useReducer)(w,{resultItems:[],isLoading:!1,isNoResults:!1,error:void 0}),p=(0,a.useCallback)((0,c.debounce)(async e=>{let t=await n.search(e);if(s(-1),t.error)return d({type:i.SEARCH_WITH_ERROR,payload:t.error});t.results.length>0?d({type:i.SEARCH_WITH_RESULT,payload:t.results}):d({type:i.SEARCH_WITHOUT_RESULT})},500),[]),f=n=>{t(n),n.length>=3?(p(n),d({type:i.ON_CHANGE_GTE_3})):(p.cancel(),d({type:i.ON_CHANGE_LT_3}))},g=(n,e)=>{if(0!==l.resultItems.length)switch(n){case"ArrowDown":e(),s(n=>n!==l.resultItems.length-1?n+1:n);break;case"ArrowUp":e(),s(n=>-1!==n?n-1:n);break;case"Enter":{let t=l.resultItems[r];(null==t?void 0:t.url)&&window.open(t.url,"_newtab")}}},h=l.resultItems.length>0||l.isNoResults||l.error;return(0,o.jsxs)(I,{children:[(0,o.jsxs)(v,{children:[(0,o.jsx)("input",{placeholder:"Repository or username...",value:e,onChange:n=>f(n.target.value),onKeyDown:n=>g(n.key,()=>n.preventDefault())}),(0,o.jsx)(y,{children:l.isLoading&&(0,o.jsx)(u.V1X,{size:18})})]}),h&&(0,o.jsxs)(C,{children:[l.resultItems.map((n,e)=>(0,o.jsx)(R,{result:n,active:r===e},n.url+n.displayText)),l.isNoResults&&(0,o.jsx)(N,{children:"No results found \uD83D\uDE44"}),l.error&&(0,o.jsxs)(A,{children:[(0,o.jsx)("h3",{children:"Something went wrong âš "}),(0,o.jsx)("p",{children:l.error})]})]})]})},R=n=>{let{result:e,active:t}=n,r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(t){var n;null===(n=r.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"nearest"})}},[t]),(0,o.jsxs)(H,{active:t,href:e.url,target:"_blank",ref:r,children:[e.imageUrl&&(0,o.jsx)("img",{src:e.imageUrl,alt:"User avatar"}),e.displayText]})},T=(0,l.F4)(d()),I=l.ZP.div.withConfig({componentId:"sc-fc755c54-0"})(p()),v=l.ZP.div.withConfig({componentId:"sc-fc755c54-1"})(f()),y=l.ZP.div.withConfig({componentId:"sc-fc755c54-2"})(g(),T),C=l.ZP.div.withConfig({componentId:"sc-fc755c54-3"})(h()),H=l.ZP.a.withConfig({componentId:"sc-fc755c54-4"})(_(),n=>n.active?"#f8f8f8":"white"),N=l.ZP.p.withConfig({componentId:"sc-fc755c54-5"})(m()),A=l.ZP.div.withConfig({componentId:"sc-fc755c54-6"})(x()),S=n=>{if(!n||!Array.isArray(n))throw Error("Response in wrong format");return n.flatMap(n=>n.items).map(n=>{var e;return{displayText:n.login||n.full_name,url:n.html_url,imageUrl:n.avatar_url||(null===(e=n.owner)||void 0===e?void 0:e.avatar_url)}}).sort((n,e)=>n.displayText.localeCompare(e.displayText))},b=(n,e)=>n.map(async n=>{let t=new URL(n);t.searchParams.set("q",e);let r=await fetch(t);if(!r.ok){let i=await r.json();throw Error((null==i?void 0:i.message)||"Github API responded with status: "+r.status)}return r.json()}),L=n=>async e=>{try{let t=await Promise.all(b(n,e));return{results:S(t)}}catch(r){return{error:r instanceof Error?r.message:String(r),results:[]}}},j=["https://api.github.com/search/users?per_page=25&page=1","https://api.github.com/search/repositories?per_page=25&page=1"],O=()=>(0,o.jsx)(E,{search:L(j)});function U(){let n=(0,s.Z)(["\n  display: grid;\n  align-items: start;\n  justify-items: center;\n  margin-top: 40px;\n  padding: 20px;\n"]);return U=function(){return n},n}var Z=()=>(0,o.jsx)(k,{children:(0,o.jsx)(O,{})});let k=l.ZP.div.withConfig({componentId:"sc-b336048f-0"})(U())}},function(n){n.O(0,[937,662,176,774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);