(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8933)}])},8933:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return D}});var r=t(7297),i=t(5893),o=t(7294),a=t(9521),s=t(9352),l=t(6486);function u(){let n=(0,r.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]);return u=function(){return n},n}function c(){let n=(0,r.Z)(["\n  width: 100%;\n  max-width: 370px;\n  display: grid;\n  gap: 10px;\n  align-items: end;\n"]);return c=function(){return n},n}function d(){let n=(0,r.Z)(["\n  width: 100%;\n  outline: 1px solid #acacac;\n  border-radius: 3px;\n  display: grid;\n  grid-template-columns: 1fr auto;\n\n  &:focus-within {\n    outline: 2px solid #235aff;\n  }\n\n  input {\n    padding: 18px;\n    height: 100%;\n    margin: 0;\n    border: none;\n    outline: none;\n    font-size: 15px;\n  }\n"]);return d=function(){return n},n}function p(){let n=(0,r.Z)(["\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  padding: 15px;\n\n  svg {\n    animation: "," 2s linear infinite;\n    color: grey;\n  }\n"]);return p=function(){return n},n}function f(){let n=(0,r.Z)(["\n  width: 100%;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  max-height: 280px;\n  overflow: auto;\n"]);return f=function(){return n},n}function g(){let n=(0,r.Z)(["\n  padding: 10px 15px;\n  font-weight: 400;\n  cursor: pointer;\n  font-size: 14px;\n  display: flex;\n  gap: 15px;\n  align-items: center;\n  text-decoration: none;\n  color: black;\n  background-color: ",";\n\n  &:hover {\n    background-color: #f8f8f8;\n  }\n\n  img {\n    width: 30px;\n    height: 30px;\n    border: 1px solid #eeeeee;\n  }\n"]);return g=function(){return n},n}function h(){let n=(0,r.Z)(["\n  text-align: center;\n  font-size: 14px;\n  color: #696969;\n  font-weight: 400;\n  padding: 20px 0;\n  margin: 0;\n"]);return h=function(){return n},n}function x(){let n=(0,r.Z)(["\n  color: #cd3535;\n  font-weight: 400;\n  padding: 20px;\n  display: grid;\n  gap: 12px;\n  text-align: center;\n\n  h3 {\n    margin: 0;\n    font-size: 16px;\n    font-weight: 500;\n  }\n\n  p {\n    color: #696969;\n    font-size: 14px;\n    margin: 0;\n  }\n"]);return x=function(){return n},n}let m=n=>{let[e,t]=(0,o.useState)(""),[r,a]=(0,o.useState)([]),[u,c]=(0,o.useState)(!1),[d,p]=(0,o.useState)(!1),[f,g]=(0,o.useState)(),[h,x]=(0,o.useState)(-1),m=(0,o.useCallback)((0,l.debounce)(async e=>{let t=await n.search(e);if(c(!1),t.error){p(!1),g(t.error);return}g(void 0),x(-1),t.results.length>0?(a(t.results),p(!1)):(p(!0),a([]))},500),[]),v=n=>{t(n),n.length>=3?(c(!0),m(n)):(m.cancel(),c(!1),g(void 0),a([]))},Z=(n,e)=>{if(0!==r.length)switch(n){case"ArrowDown":e(),x(n=>n!==r.length-1?n+1:n);break;case"ArrowUp":e(),x(n=>-1!==n?n-1:n);break;case"Enter":{let t=r[h];(null==t?void 0:t.url)&&window.open(t.url,"_newtab")}}},P=r.length>0||d||f;return(0,i.jsxs)(b,{children:[(0,i.jsxs)(y,{children:[(0,i.jsx)("input",{placeholder:"Repository or username...",value:e,onChange:n=>v(n.target.value),onKeyDown:n=>Z(n.key,()=>n.preventDefault())}),(0,i.jsx)(j,{children:u&&(0,i.jsx)(s.V1X,{size:18})})]}),P&&(0,i.jsxs)(_,{children:[r.map((n,e)=>(0,i.jsx)(w,{result:n,active:h===e},n.url+n.displayText)),d&&(0,i.jsx)(k,{children:"No results found \uD83D\uDE44"}),f&&(0,i.jsxs)(C,{children:[(0,i.jsx)("h3",{children:"Something went wrong âš "}),(0,i.jsx)("p",{children:f})]})]})]})},w=n=>{let{result:e,active:t}=n,r=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(t){var n;null===(n=r.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"nearest"})}},[t]),(0,i.jsxs)(Z,{active:t,href:e.url,target:"_blank",ref:r,children:[e.imageUrl&&(0,i.jsx)("img",{src:e.imageUrl,alt:"User avatar"}),e.displayText]})},v=(0,a.F4)(u()),b=a.ZP.div.withConfig({componentId:"sc-d84a5c3f-0"})(c()),y=a.ZP.div.withConfig({componentId:"sc-d84a5c3f-1"})(d()),j=a.ZP.div.withConfig({componentId:"sc-d84a5c3f-2"})(p(),v),_=a.ZP.div.withConfig({componentId:"sc-d84a5c3f-3"})(f()),Z=a.ZP.a.withConfig({componentId:"sc-d84a5c3f-4"})(g(),n=>n.active?"#f8f8f8":"white"),k=a.ZP.p.withConfig({componentId:"sc-d84a5c3f-5"})(h()),C=a.ZP.div.withConfig({componentId:"sc-d84a5c3f-6"})(x()),P=n=>{if(!n||!Array.isArray(n))throw Error("Response in wrong format");return n.flatMap(n=>n.items).map(n=>{var e;return{displayText:n.login||n.full_name,url:n.html_url,imageUrl:n.avatar_url||(null===(e=n.owner)||void 0===e?void 0:e.avatar_url)}}).sort((n,e)=>n.displayText.localeCompare(e.displayText))},E=(n,e)=>n.map(async n=>{let t=new URL(n);t.searchParams.set("q",e);let r=await fetch(t);if(!r.ok){let i=await r.json();throw Error((null==i?void 0:i.message)||"Github API responded with status: "+r.status)}return r.json()}),I=n=>async e=>{try{let t=await Promise.all(E(n,e));return{results:P(t)}}catch(r){return{error:r instanceof Error?r.message:String(r),results:[]}}},S=["https://api.github.com/search/users?per_page=25&page=1","https://api.github.com/search/repositories?per_page=25&page=1"],T=()=>(0,i.jsx)(m,{search:I(S)});function z(){let n=(0,r.Z)(["\n  display: grid;\n  align-items: start;\n  justify-items: center;\n  margin-top: 40px;\n  padding: 20px;\n"]);return z=function(){return n},n}var D=()=>(0,i.jsx)(N,{children:(0,i.jsx)(T,{})});let N=a.ZP.div.withConfig({componentId:"sc-b336048f-0"})(z())}},function(n){n.O(0,[937,662,176,774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);